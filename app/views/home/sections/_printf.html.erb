<section id="ftprintf" class="relative py-16 md:py-24 bg-grid">
  <div data-controller="printf" class="max-w-7xl mx-auto px-4 md:px-6">
    <%= render "shared/section_header",
        title: "ft_printf",
        github_url: "https://github.com/greegs0/ft_printf",
        description: raw('Recréation de la fonction printf en C. Parsing de format strings, gestion des <span class="text-neon-400">conversions</span> et des <span class="text-neon-400">flags</span>.') %>

    <div class="glass-card border-neon p-5 md:p-8 mb-6 md:mb-10 max-w-4xl mx-auto reveal-scale" data-scroll-reveal-target="item">
      <h3 class="text-white font-semibold mb-4 md:mb-6 flex items-center gap-2 text-sm md:text-base">
        <span class="text-neon-500">&#9679;</span>
        Conversions supportées
      </h3>
      <div class="grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-4 text-xs md:text-sm">
        <div class="flex items-center gap-3"><code class="text-yellow-400 bg-dark-800 px-3 py-1.5 rounded font-mono">%c</code><span class="text-gray-400">char (1 caractère)</span></div>
        <div class="flex items-center gap-3"><code class="text-green-400 bg-dark-800 px-3 py-1.5 rounded font-mono">%s</code><span class="text-gray-400">string (texte)</span></div>
        <div class="flex items-center gap-3"><code class="text-pink-400 bg-dark-800 px-3 py-1.5 rounded font-mono">%p</code><span class="text-gray-400">pointeur (adresse)</span></div>
        <div class="flex items-center gap-3"><code class="text-cyan-400 bg-dark-800 px-3 py-1.5 rounded font-mono">%d</code><span class="text-gray-400">int (entier signé)</span></div>
        <div class="flex items-center gap-3"><code class="text-cyan-400 bg-dark-800 px-3 py-1.5 rounded font-mono">%i</code><span class="text-gray-400">int (entier signé)</span></div>
        <div class="flex items-center gap-3"><code class="text-cyan-300 bg-dark-800 px-3 py-1.5 rounded font-mono">%u</code><span class="text-gray-400">unsigned int</span></div>
        <div class="flex items-center gap-3"><code class="text-purple-400 bg-dark-800 px-3 py-1.5 rounded font-mono">%x</code><span class="text-gray-400">hex minuscule</span></div>
        <div class="flex items-center gap-3"><code class="text-purple-300 bg-dark-800 px-3 py-1.5 rounded font-mono">%X</code><span class="text-gray-400">hex majuscule</span></div>
        <div class="flex items-center gap-3"><code class="text-gray-400 bg-dark-800 px-3 py-1.5 rounded font-mono">%%</code><span class="text-gray-400">caractère %</span></div>
      </div>
    </div>

    <div class="glass-card border-neon p-5 md:p-8 max-w-4xl mx-auto reveal-scale" data-scroll-reveal-target="item">
      <h3 class="text-white font-semibold mb-4 md:mb-6 flex items-center gap-2 text-sm md:text-base">
        <span class="text-neon-500">&#9679;</span>
        Simulateur interactif
      </h3>

      <div class="mb-4 md:mb-6">
        <label class="text-gray-400 text-xs md:text-sm mb-2 block">Format string</label>
        <input type="text" data-printf-target="format" data-action="input->printf#parse" value="Bonjour %s ! Tu as %d messages." class="w-full bg-dark-800 border border-dark-600 rounded-lg px-3 md:px-4 py-2.5 md:py-3 text-white font-mono text-xs md:text-sm focus:border-neon-500 focus:outline-none transition-colors" placeholder="Ex: Bonjour %s, tu as %d ans">
      </div>

      <div class="mb-4 md:mb-6">
        <label class="text-gray-400 text-xs md:text-sm mb-2 block">Arguments</label>
        <div data-printf-target="argsContainer" class="flex flex-wrap gap-3"></div>
      </div>

      <div class="mb-4 md:mb-6">
        <label class="text-gray-400 text-xs md:text-sm mb-2 block">Parsing</label>
        <div data-printf-target="parsing" class="bg-dark-900 rounded-lg p-3 md:p-4 font-mono text-xs md:text-sm flex flex-wrap gap-1 min-h-[44px] md:min-h-[48px]"></div>
      </div>

      <div>
        <label class="text-gray-400 text-xs md:text-sm mb-2 block">Output</label>
        <div class="bg-dark-900 rounded-lg p-3 md:p-4 border border-dark-700">
          <code data-printf-target="output" class="text-neon-400 font-mono"></code>
          <span data-printf-target="charCount" class="text-gray-500 text-xs ml-4"></span>
        </div>
      </div>
    </div>

    <div class="text-center mt-8 reveal-fade-up" data-scroll-reveal-target="item">
      <p class="text-gray-500 mb-4 text-sm uppercase tracking-wider">Exemples</p>
      <div class="flex flex-wrap justify-center gap-3">
        <button data-action="click->printf#example1" class="btn-neon btn-neon-fill text-sm px-4 py-2">Texte + Entier</button>
        <button data-action="click->printf#example2" class="btn-neon btn-neon-fill text-sm px-4 py-2">Hexadécimal</button>
        <button data-action="click->printf#example3" class="btn-neon btn-neon-fill text-sm px-4 py-2">Pointeur</button>
        <button data-action="click->printf#example4" class="btn-neon btn-neon-fill text-sm px-4 py-2">Mixte</button>
      </div>
    </div>
  </div>
</section>
